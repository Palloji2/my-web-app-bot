<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html>
<head>
    <title>Send Data to Telegram Bot</title>
</head>
<body>
    <h2>Input Attack Data</h2>
    <form id="attackForm">
        <label for="ip">IP Address:</label><br>
        <input type="text" id="ip" name="ip"><br>
        
        <label for="port">Port:</label><br>
        <input type="text" id="port" name="port"><br>
        
        <label for="time">Time (in seconds):</label><br>
        <input type="text" id="time" name="time"><br><br>
        
        <input type="submit" value="Send">
    </form>

    <script>
        document.getElementById('attackForm').addEventListener('submit', function(event) {
            event.preventDefault();

            // Capture form data
            let ip = document.getElementById('ip').value;
            let port = document.getElementById('port').value;
            let time = document.getElementById('time').value;

            // Create the /kp command format
            let command = `/kp ${ip} ${port} ${time}`;

            // Send the data to the Flask app
            fetch('/send-command', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ command: command })
            }).then(response => response.json()).then(data => {
                alert(data.message);
            }).catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>